[["index.html", "Black Wealth in Louisville Chapter 1 Introduction", " Black Wealth in Louisville Nate Kratzer 2020-09-09 Chapter 1 Introduction This report was created with the Louisville Urban League. logo! Thanks to contributors. "],["digital-divide.html", "Chapter 2 Digital Divide 2.1 Overall 2.2 The Digital Divide in Jefferson County 2.3 Child Internet Access 2.4 Internet as a Public Utility", " Chapter 2 Digital Divide 2.1 Overall This report uses census Microdata from IPUMS to look at internet access in the Louisville MSA. Data is available from 2013 to 2018. About 1 in 10 households in Louisville have no internet access, and 3 in 10 do not have the high speed access necessary for working and learning at home. Access to high speed internet access has not improved in the past 6 years. Households also lack access to devices, with 15% of houses not having a computer or a tablet. Houses that do have computers or tablets are also unlikely to have enough devices for multiple people working from home (unfortunately the Census data only asks about having 1 or more device). 2.1.1 High Speed Internet Our focus on internet access is a focus on high speed access. While internet access over a smartphone or other non high speed source can be useful for staying connected, in the COVID era of working and learning from home high speed internet is a necessary utility that over a quarter of our households do not have. While 91% of houses have some form of internet access, only 73% have high speed internet access. 2.1.2 Devices A full 15% of our households do not have either a computer or tablet at home, and this understates the extent of the internet device shortage, as a single device is insufficient for a household with multiple people working and learning. 2.1.3 Internet and Devices Finally, we can also look at the overlap of having both high speed internet and a device to work on. At 71% this is fairly similar to the numbers with high speed internet, suggesting that most people with high speed internet do have at least one device capable of accessing it. 2.2 The Digital Divide in Jefferson County We can also take a deeper look into internet access within Louisville. Well focus on high speed internet. While devices are also important, the data doesnt let us know how many devices are in each household, so its guidance on the magnitude of the device shortage is quite limited. 2.2.1 Internet Speed While our focus is on high speed access, we do show the history of both all internet access and high speed access in the graph below. Although overall internet access has increased a little since 2013, high speed internet access remains flat or possibly slightly below 2013 levels. In 2016, the Census Bureau began asking about smart phones for the first time. Although the internet access question was not changed, the addition of the question about smartphones may still explain the jump in consumers reporting that they had internet acess at home. There is no similar uptick in high speed access. 2.2.2 Poverty HIgh speed internet access for households in poverty has been decreasing since 2013. 2.2.3 Race High speed internet access has either remained steady or slightly declined for Black households in Louisville. 2.2.4 Age Households with adults age 65 and older is one of the only household groupings where high speed internet access has actually increased over time 2.3 Child Internet Access 2.3.1 School Age In this section, we limit the scope of our analysis to look at children ages 5-18. Nontraditional instruction (NTI) functions much better with access to high speed internet. About 25,600 school age children in Jefferson County do not have access to high speed internet. The map below is broken into 6 areas based on public use microdata geographies. Unfortunately, this is the lowest geographic level of detail we can get with Census microdata for school-age childen. 2.3.2 Metro Council Districts If we expand our focus to all children ages 0-17, we can get data at finer levels of geography. The map below shows the percent of children ages 0-17 who lack either high-speed internet or a computer at home. Most of these children are school age, though the data also includes some infants and toddlers who are not in school. 2.3.2.1 No District labels District Percent without access Children with access Children without access 1 18.2% 5,423 1,205 2 11.8% 6,438 865 3 22.4% 4,669 1,351 4 32.5% 3,755 1,805 5 33.6% 5,036 2,554 6 33.2% 4,259 2,111 7 3.3% 5,608 187 8 1.9% 5,067 100 9 4.0% 4,867 205 10 7.6% 5,114 421 11 5.6% 5,819 342 12 7.8% 6,200 523 13 12.0% 6,399 874 14 9.0% 6,229 618 15 27.1% 4,620 1,714 16 2.3% 7,218 171 17 3.2% 7,401 247 18 2.7% 5,804 164 19 2.5% 7,788 199 20 4.2% 8,095 353 21 19.9% 4,681 1,161 22 4.1% 7,379 315 23 9.9% 5,911 650 24 8.4% 6,850 632 25 3.8% 6,040 241 26 10.3% 5,291 590 2.3.2.2 District Labels District Percent without access Children with access Children without access 1 18.2% 5,423 1,205 2 11.8% 6,438 865 3 22.4% 4,669 1,351 4 32.5% 3,755 1,805 5 33.6% 5,036 2,554 6 33.2% 4,259 2,111 7 3.3% 5,608 187 8 1.9% 5,067 100 9 4.0% 4,867 205 10 7.6% 5,114 421 11 5.6% 5,819 342 12 7.8% 6,200 523 13 12.0% 6,399 874 14 9.0% 6,229 618 15 27.1% 4,620 1,714 16 2.3% 7,218 171 17 3.2% 7,401 247 18 2.7% 5,804 164 19 2.5% 7,788 199 20 4.2% 8,095 353 21 19.9% 4,681 1,161 22 4.1% 7,379 315 23 9.9% 5,911 650 24 8.4% 6,850 632 25 3.8% 6,040 241 26 10.3% 5,291 590 2.4 Internet as a Public Utility The lack of high speed internet access in Louisville is part of a broader trend across the United States of continuing to treat home internet as something that is nice to have instead of something that is necessary to fully take part in modern society. In general, the U.S. leaves broadband infrastructure to private companies who will not build out infrastructure to areas that arent profitable. An exception to this trend in Chatanooga, TN, where the electric utility is also an Internet Service Provider. The lack of internet acess in Louisville (and throughout the U.S) has severe consequences including exacerbating inequality (both racial and economic) and slower overall economic growth. 2.4.1 Local Efforts Jefferson County Public Schools have distributed hotspots and chromebooks to try to complete NTI. Kentucky is investing $8 million to subsidize internet access for low-income students For more local data and analysis please visit the Greater Louisville Project "],["black-wealth.html", "Chapter 3 Black Wealth 3.1 Introduction 3.2 Wealth (National) 3.3 Business Ownership (Local) 3.4 Homeownership (Local) 3.5 Household Income (Local) 3.6 The Tip of the Iceberg", " Chapter 3 Black Wealth # Knitr options knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE, dev.args=list(bg=&quot;transparent&quot;)) library(tidyverse) library(magrittr) library(showtext) library(rgdal) library(sf) library(viridis) library(plotly) library(tidygeocoder) library(leaflet) library(rvest) library(lubridate) load(&quot;Black_wealth/glptools_exports.RData&quot;) source(&quot;Black_wealth/helper_functions.R&quot;) library(showtext) showtext_auto() font_add(&quot;Montserrat&quot;, &quot;Black_wealth/Montserrat/Montserrat-Regular.ttf&quot;) font_add(&quot;Montserrat Bold&quot;, &quot;Black_wealth/Montserrat/Montserrat-SemiBold.ttf&quot;) jfco_shp &lt;- readOGR(&quot;Black_wealth/JC Tracts&quot;, layer = &quot;JC Tracts&quot;, GDAL1_integer64_policy = TRUE, verbose = FALSE) jfco_sf &lt;- st_as_sf(jfco_shp) %&gt;% mutate(GEOID = str_sub(GEO_ID, start = -11)) 3.1 Introduction There is no universally-accepted definition of wealth within the Black community. Even within the traditional definitions of monetary wealth, there is no direct data on Black Wealth in Louisville. This report looks at the available national data on monetary wealth and then looks at local data in three areas that are closely related to wealth and wealth-building: business ownership, housing finance, and income. 3.2 Wealth (National) Wealth data remains scarce in general because the subject of wealth can be sensitive and is not tracked in a comprehensive way. Multiple surveys ask about income, and tax records show yearly income, but this data provides an incomplete picture, often missing key metrics such as property ownership, community investment, inherited wealth, etc. As such, our measures of wealth remain indirect. The national Survey of Consumer Finances (SCF), which occurs every three years, is our best source of wealth data. It measures all assets over which a family has legal claim that can be used to finance its present and future consumption. The most recently available data is from 2019, leaving the impact of the ongoing pandemic undefined. The key findings from the Federal Reserve report include: The median white family has $188,200, while the median Black family has $24,100, less than 15% of what white families hold. After falling from 2007 to 2013, median Black wealth has increased from 2013-2019; however, the gap between White and Black families remains largely unchanged. The gap in wealth starts at an early age, with white families under 35 having a median wealth of $25,400 and Black families having $600. White families are more likely to own homes at any age, but the Black-White gap is largest in households under 35, likely reflecting parental wealth. The Federal Reserve Report concludes that inheritances and other sources of family support are the single largest driver of the racial wealth gap. 3.3 Business Ownership (Local) Entrepreneurship is a key driver of wealth creation and generational wealth. Business owners are able to build wealth through their companies, and money spent at locally-owned businesses contribute to local wages and neighborhood development. Data on business ownership are available for all businesses for the Louisville MSA, which includes 9 surrounding counties. At the county level, data on business ownership is only available for employer businesses: businesses that have at least one employee. While employer businesses only make up about 20% of local registered businesses, they comprise 98.2% of local business revenue, and so we will focus our analysis there. We do note that while Black residents only own 2.3% of employer businesses in Louisville, they own 9.8% of all businesses in the larger Louisville MSA. Overall, the data show alarge racial disparity in ownership of employer businesses in Louisville. 3.3.1 Comparison to peer cities In Jefferson County, Black residents make up 21.9% of the population, and they own 2.3% of employer businesses. The graph below compares this ratio across Louisvilles cities. Cities would fall on the solid line if Black residents were represented equally among employer business owners and the population. The dotted line shows the average level of representation of Black residents among employer business owners in Louisvilles peer cities. Black residents have higher-than-average representation in cities that fall above the dotted line, and they have below-average representation in cities below the line, but no cities, including Louisville, come close to equal representation. pct_nonemp_business &lt;- 57630 / (57630 + 14785) pct_nonemp_revenue &lt;- 2757359000 / (2757359000 + 152432057000) # glpdata::population_msa_1yr %&gt;% filter(race %in% c(&quot;black&quot;, &quot;total&quot;), MSA == &quot;31140&quot;, year == 2019, sex == &quot;total&quot;) business_ownership_county_clean &lt;- business_ownership_county %&gt;% group_by(FIPS, year) %&gt;% mutate( firm_percent = firms_num / firms_num[sex==&quot;total&quot; &amp; race == &quot;total&quot;] * 100, revenue_percent = revenue_num / revenue_num[sex==&quot;total&quot; &amp; race == &quot;total&quot;] * 100) %&gt;% ungroup() %&gt;% filter(race == &quot;black&quot;) %&gt;% pull_peers(add_info = T, FIPS_df = FIPS_df) %&gt;% filter(current == 1) business_ownership_county_summary &lt;- business_ownership_county_clean %&gt;% filter(FIPS != &quot;21111&quot;) %&gt;% summarize(avg_ratio = mean(firm_percent / pop_percent)) %&gt;% pull(avg_ratio) business_ownership_county_clean %&lt;&gt;% mutate(marker_color = if_else(city == &quot;Louisville&quot;, &#39;#d63631&#39;, &quot;#000000&quot;)) lou &lt;- filter(business_ownership_county_clean, city == &quot;Louisville&quot;) a &lt;- list( x = lou$pop_percent, y = lou$firm_percent, text = lou$city, xref = &quot;x&quot;, yref = &quot;y&quot;, showarrow = F, arrowhead = 0, ax = 0, ay = 10, yanchor = &quot;top&quot;) b &lt;- list( x = 12, y = 11, text = &quot;Equal representation&quot;, xref = &quot;x&quot;, yref = &quot;y&quot;, showarrow = F, arrowhead = 0, ax = 0, ay = 30, xanchor = &quot;left&quot;) c &lt;- list( x = 40, y = 7, text = &quot;Average representation in peer cities&quot;, xref = &quot;x&quot;, yref = &quot;y&quot;, showarrow = F, arrowhead = 0, ax = 0, ay = -16, textangle = -20) plot_ly(business_ownership_county_clean) %&gt;% add_markers(x = ~`pop_percent`, y = ~`firm_percent`, text = business_ownership_county_clean$city, color = ~I(marker_color), marker = list(size = 10), hoverinfo = &#39;text&#39;, showlegend = FALSE) %&gt;% add_segments(x = 0, xend = 60, y = 0, yend = 60, name = &quot;Equality&quot;, line = list(color = &#39;#323844&#39;, width = 1), showlegend = FALSE) %&gt;% add_segments(x = 0, xend = 60, y = 0, yend = business_ownership_county_summary * 60, name = &quot;Peer Average&quot;, line = list(color = &#39;#323844&#39;, width = 1, dash = &#39;dash&#39;), showlegend = FALSE) %&gt;% layout( font = list(family = &quot;Montserrat&quot;), annotations = list(a, b, c), title = &quot;Black Business Ownership by Peer City&quot;, xaxis = list(title = &quot;Percent of Residents who are Black&quot;), yaxis = list(title = &quot;Percent of Businesses Owned by Black Residents&quot;, range = c(0, 20))) 3.3.2 Peer Ranking This graph shows the number of employer-businesses that Black residents own for every 100 Black residents. ranking(business_ownership_county_clean, &quot;firms_num_per_100&quot;, race = &quot;black&quot;, plot_title = &quot;Black Business Ownership&quot;, y_title = &quot;Businesses per 100 residents&quot;, caption_text = &quot;Source: Greater Louisville Project Data from the Census Bureau Annual Business Survey&quot;, year = 2017, text_size = 2, accuracy = 0.01, FIPS_df = FIPS_df) 3.3.3 Local business creation The map below shows business filings throughout 2020 within Jefferson County. These businesses include any type of LLC, corporation, or nonprofit officially registered with the Commonwealth of Kentucky. Compared to the previous data that focuses on larger organizations, it shows that entrepreneurship is widespread throughout the city. cols_spec &lt;- cols(&quot;organization_number&quot; = col_character(), &quot;comptype&quot; = col_number(), &quot;compseq&quot; = col_character(), &quot;name&quot; = col_character(), &quot;standing&quot; = col_character(), &quot;status&quot; = col_character(), &quot;org_country&quot; = col_character(), &quot;org_state&quot; = col_character(), &quot;company_type&quot; = col_character(), &quot;registered_agent_name&quot; = col_character(), &quot;registered_agent_address_1&quot; = col_character(), &quot;registered_agent_address_2&quot; = col_character(), &quot;registered_agent_address_3&quot; = col_character(), &quot;registered_agent_address_4&quot; = col_character(), &quot;registered_agent_city&quot; = col_character(), &quot;registered_agent_state&quot; = col_character(), &quot;registered_agent_zip&quot; = col_character(), &quot;address_1&quot; = col_character(), &quot;address_2&quot; = col_character(), &quot;address_3&quot; = col_character(), &quot;address_4&quot; = col_character(), &quot;city&quot; = col_character(), &quot;state&quot; = col_character(), &quot;zip&quot; = col_character(), &quot;file_date&quot; = col_date(&quot;%m/%d/%Y&quot;), &quot;organization_date&quot; = col_date(&quot;%m/%d/%Y&quot;), &quot;authorization_date&quot; = col_date(&quot;%m/%d/%Y&quot;), &quot;record_date&quot; = col_date(&quot;%m/%d/%Y&quot;), &quot;registered_agent_res_date&quot; = col_date(&quot;%m/%d/%Y&quot;), &quot;expiration_date&quot; = col_date(&quot;%m/%d/%Y&quot;), &quot;renewal_date&quot; = col_date(&quot;%m/%d/%Y&quot;), &quot;numofcr&quot; = col_skip(), &quot;numofshr&quot; = col_skip(), &quot;mangnum&quot; = col_skip(), &quot;applname&quot; = col_skip(), &quot;appltitl&quot; = col_skip(), &quot;parpre&quot; = col_skip(), &quot;parcomno&quot; = col_skip(), &quot;parcom&quot; = col_skip(), &quot;parpreno&quot; = col_skip(), &quot;for_profit&quot; = col_character(), &quot;record_num&quot; = col_character()) #File available at https://drive.google.com/file/d/1cTCZK0A4XTru3HYPLLbDnu0DoKHlB5l1/view?usp=sharing all_companies &lt;- read_tsv(&quot;Black_wealth/AllCompanies20210430.txt&quot;, col_names = names(cols_spec$cols), col_types = cols_spec, quote = &quot;&quot;) # Select one record per organization, excluding name reservations all_companies %&lt;&gt;% filter(compseq == &quot;99999&quot;, comptype %not_in% c(1, 2, 3, 4, 7, 11, 12, 13, 14), year(file_date) &gt;= 2000) lou_zips &lt;- glptools::FIPS_zip %&gt;% filter(FIPS == &quot;21111&quot;) %&gt;% pull(zip) %&gt;% as.numeric() all_companies %&lt;&gt;% filter(zip %in% lou_zips) zip_pop &lt;- glpdata::population_zip %&gt;% filter(race == &quot;total&quot;, sex == &quot;total&quot;, year == 2018) t = glpdata::population_zip %&gt;% filter(FIPS == &quot;21111&quot;, sex == &quot;total&quot;, race == &quot;total&quot;, year == 2019) all_companies_zip &lt;- all_companies %&gt;% left_join(t) %&gt;% filter(year(file_date) == 2020) %&gt;% group_by(zip) %&gt;% summarize(num_companies = n(), pct_here = mean(population_in_FIPS / population_total), pct_here = if_else(is.na(pct_here), 1, pct_here)) %&gt;% summarize(sum(num_companies * pct_here)) all_companies_zip &lt;- all_companies %&gt;% filter(year(file_date) == 2020) %&gt;% group_by(zip) %&gt;% summarize(num_companies = n()) %&gt;% left_join(zip_pop, by = &quot;zip&quot;) %&gt;% mutate(companies_pp = num_companies / population_total * 100, companies_pp = if_else(zip %in% c(40209, 40025, 40202), NA_real_, companies_pp)) ggplot(left_join(map_zip, all_companies_zip, by = &quot;zip&quot;)) + geom_sf(aes(fill = companies_pp)) + #scale_fill_manual(values = viridis::viridis(6, direction = -1), na.value = &quot;grey&quot;) + scale_fill_viridis(name = &quot;Filings per\\n100 Residents&quot;) + theme_bw(base_size = 22, base_family = &quot;Montserrat&quot;) + theme(panel.grid = element_blank(), axis.text = element_blank(), axis.ticks = element_blank(), axis.title = element_blank(), panel.border = element_blank(), legend.title = element_text(size = 18, lineheight = 0.6), plot.caption = element_text(lineheight = 0.6)) + labs(title = &quot;Business Filings, 2020&quot;, caption = &quot;Source: Greater Louisville Project Data from the Kentucky Secretary of State&quot;) + theme( panel.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the panel plot.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the plot legend.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend bg legend.box.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend panel bg legend.key = element_rect(fill = &quot;transparent&quot;,colour = NA)) # chunks &lt;- c(seq(1, nrow(all_companies), 1000), nrow(all_companies) + 1) # # for (c in 1:(length(chunks) - 1)) { # # print(c) # # temp &lt;- all_companies[chunks[c]:(chunks[c+1] - 1),] # # this_geo &lt;- temp %&gt;% # geocode( # street = address_1, # city = city, # state = state, # postalcode = zip, # method = &quot;cascade&quot;) # # output &lt;- assign_row_join(output, this_geo) # } test &lt;- readxl::read_excel(&quot;business registration.xlsx&quot;) lou_zips &lt;- glptools::FIPS_zip %&gt;% filter(FIPS == &quot;21111&quot;) %&gt;% pull(zip) %&gt;% as.numeric() test %&lt;&gt;% filter(`Principal Office Zip` %in% lou_zips) test %&lt;&gt;% transmute( Name, street = `Principal Office Address 1`, city = `Principal Office City`, state = &quot;KY&quot;, postalcode = `Principal Office Zip`) # Use free default providers first (Census and OSM) test_cascade &lt;- test %&gt;% geocode( street = street, city = city, state = state, postalcode = postalcode, method = &quot;cascade&quot;) test_map &lt;- st_as_sf(test_cascade, coords = c(&quot;long&quot;, &quot;lat&quot;), crs = 4326) st_crs(jfco_sf) &lt;- 4326 t=st_filter(test_map, jfco_sf) leaflet(t) %&gt;% addTiles() %&gt;% addCircleMarkers(label = t$Name) 3.4 Homeownership (Local) Homeownership represents a significant component of wealth. Housing reflects historical wealth patternsparental wealth makes it easier to buy a homeand is a major generator of wealthhistorically, homes in most neighborhoods have risen in value, increasing the wealth of those who own them. The data show stark divides between Black and white families throughout the homeownership process, demonstrating one aspect of the wealth gap. 3.4.1 Home Mortgages 3.4.1.1 Mortgages by geography In 2019, about 3.8 mortgages were issued per 100 residents in Jefferson County; however, the availability of mortgages varies greatly across the city. Two census tracts saw 0 mortgages issued in 2019, and most of West Louisville saw fewer than 1 mortgage issued per 100 residents. Often mortgage issuance is limited by a loan to value ratio that reflects property values in a given neighborhood relative to the replacement value of the structure Mortgage issuance is much higher in neighborhoods with higher overall value or new construction. home_loan_tract_race &lt;- home_loan_tract %&gt;% filter(year == 2019, sex == &quot;total&quot;, race != &quot;total&quot;) %&gt;% select(tract, race, denial:rate_spread) home_loan_tract %&lt;&gt;% filter(year == 2019, sex == &quot;total&quot;, race == &quot;total&quot;) %&gt;% select(tract, denial:rate_spread) jfco_sf %&lt;&gt;% left_join(home_loan_tract, by = c(&quot;GEOID&quot; = &quot;tract&quot;)) loan_num_labs &lt;- c(&quot;No mortgages&quot;, &quot;Less than 1&quot;, &quot;1 to 3&quot;, &quot;3 to 5&quot;, &quot;5 to 10&quot;, &quot;More than 10&quot;) jfco_sf %&lt;&gt;% mutate( loan_num_fill = case_when( loan_number_per_100 == 0 ~ loan_num_labs[1], loan_number_per_100 &lt;= 1 ~ loan_num_labs[2], loan_number_per_100 &lt;= 3 ~ loan_num_labs[3], loan_number_per_100 &lt;= 5 ~ loan_num_labs[4], loan_number_per_100 &lt;= 10 ~ loan_num_labs[5], loan_number_per_100 &gt; 10 ~ loan_num_labs[6], is.na(loan_number_per_100) ~ NA_character_, TRUE ~ &quot;error!!&quot;) %&gt;% factor(levels = loan_num_labs, ordered = TRUE)) ggplot(jfco_sf) + geom_sf(aes(fill = loan_num_fill)) + scale_fill_manual(values = viridis::viridis(6, direction = -1), na.value = &quot;grey&quot;) + theme_bw(base_size = 22, base_family = &quot;Montserrat&quot;) + theme(panel.grid = element_blank(), axis.text = element_blank(), axis.ticks = element_blank(), axis.title = element_blank(), panel.border = element_blank(), legend.title = element_blank(), plot.caption = element_text(lineheight = 0.6)) + labs(title = &quot;Mortgages issued per 100 residents in 2019&quot;, caption = &quot;Source: Greater Louisville Project GLP analysis of data from the Consumer Financial Protection Bureau&quot;) + theme( panel.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the panel plot.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the plot legend.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend bg legend.box.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend panel bg legend.key = element_rect(fill = &quot;transparent&quot;,colour = NA)) 3.4.1.2 Mortgages by race We can also examine mortgage data by race. Black residents in Louisville received fewer than half the number of mortgages per person that White residents did in 2019. # Interactive Mortgage map # load(&quot;home_loans_detail.RData&quot;) # home_loan_detail %&lt;&gt;% # select(tract, year, race, sex, loan_status, income, loan, rate) %&gt;% # mutate(tract = str_extract(tract, &quot;21111.*&quot;)) %&gt;% # filter(year == 2019, loan_status == &quot;approved&quot;) # # num_points &lt;- home_loan_detail %&gt;% # group_by(tract) %&gt;% # summarise(n = n(), .groups=&quot;drop&quot;) %&gt;% # left_join(glptools::map_tract, by = &quot;tract&quot;) %&gt;% # group_by(tract) %&gt;% # nest() %&gt;% # mutate(points = map(data, function(x) st_sample(x$geometry, x$n))) %&gt;% # unnest() # # home_loan_detail %&lt;&gt;% arrange(tract) # num_points %&lt;&gt;% arrange(tract) # # st_geometry(home_loan_detail) &lt;- num_points$points # # library(leaflet) # # # fillpal &lt;- colorFactor(RColorBrewer::brewer.pal(5, &quot;Dark2&quot;), domain = unique(home_loan_detail$race)) # # leaflet(filter(home_loan_detail, is.na(race))) %&gt;% # addCircleMarkers( # radius = ~sqrt(loan / 30000), # #radius = 5, # stroke=T, # fillColor = ~fillpal(race), # color = ~fillpal(race), # weight = 1, # fillOpacity = 0.15, # opacity = 0.4) %&gt;% # addLegend(pal = fillpal, values = unique(home_loan_detail$race)) %&gt;% # addTiles() mortgage_county &lt;- home_loan_county mortgage_county %&lt;&gt;% filter(FIPS == &quot;21111&quot;, sex==&quot;total&quot;, race %in% c(&quot;black&quot;, &quot;white&quot;)) %&gt;% rename(Race = race) %&gt;% mutate(Race = str_to_title(Race)) plt_by(mortgage_county, Race, loan_number_per_100, &quot;Mortgages by race&quot;, y_axis = &quot;Mortgages per 100 People&quot;, y_min = 0, caption_text = &quot;Source: Greater Louisville Project GLP analysis of data from the Consumer Financial Protection Bureau&quot;) 3.4.1.3 Mortgage Dollars by race The racial disparity in mortgages is even larger when you incorporate the dollar amount of mortgages issued. In 2019, white residents received $2.60 in mortgages for every $1 that Black residents received after adjusting for population size. plt_by(mortgage_county, Race, loan_amount_pp, &quot;Mortgage Lending by race&quot;, y_axis = &quot;Dollars per 100 People&quot;, y_min = 0, units = &quot;Dollars&quot;, caption_text = &quot;Source: Greater Louisville Project GLP analysis of data from the Consumer Financial Protection Bureau&quot;) 3.4.1.4 Denial Rates by Race Black residents are denied mortgages at a rate roughly twice that of white residents. The mortgage denial rate for Black residents has decreased from a high of 29% in 2008 to a low of 14% in 2019. However, it has not shown signs of decreasing in recent years, and Black residents are more likely to be impacted by the economic impacts of COVID-19, worsening the disparity in 2020 and beyond. plt_by(mortgage_county, Race, denial, &quot;Mortgage Denial by race&quot;, y_axis = &quot;Denial Rate&quot;, y_min = 0, units= &quot;Percent&quot;, caption_text = &quot;Source: Greater Louisville Project GLP analysis of data from the Consumer Financial Protection Bureau&quot;) 3.4.1.5 Denial Rates by Geography A major factor in mortgage availability is denial rates. While some areas of town saw few to no mortgage denials, people in many parts of West Louisville experienced denial rates of 30 to 40%. make_map(denial, title = &quot;Mortgage Denial Rate in 2019&quot;, legend = &quot;Percent&quot;, caption = &quot;Source: Greater Louisville Project GLP analysis of data from the Consumer Financial Protection Bureau&quot;, map_obj = jfco_sf) 3.4.1.6 Interest Rates by geography For the mortgages that were issued, interest rates varied from around 3.5% to around 5%. While the average interest rate was around 4% for the much of East Louisville, average interest rates in West Louisville were closer to 5%. A 30-year mortgage with an interest rate of 5% requires monthly payments that are 13% higher than a mortgage with an interest rate of 4%. make_map(rate, title = &quot;Mortgage Interest Rate in 2019&quot;, legend = &quot;Percent&quot;, caption = &quot;Source: Greater Louisville Project GLP analysis of data from the Consumer Financial Protection Bureau&quot;, map_obj = jfco_sf) 3.4.2 Housing Price Changes As Louisville grows, increasing home prices reflect changes in inflation and increasing demand for homes. Long-term growth in home prices helps homeowners build equity and wealth. Short-term appreciation can be a boon to homeowners with the finances to stay in their home, though it also causes many homeowners and renters to be dislocated from their neighborhood. 3.4.2.1 Long-term appreciation This map shows the change in existing home prices across zip codes since 2000 in Jefferson County, controlling for new construction. Since 2000, existing homes in Louisville have increased in value by an average of 62% after accounting for inflation, an average of about 2.4% per year. However, not every area of the city has benefited equally from this growth. Home prices in zip code 40204, which contains the Upper Highlands and Germantown, have more than doubled since 2000. While many zip codes close to downtown also saw high growth, many parts of West Louisville saw slow growth. lou_num &lt;- HPI_county %&gt;% filter(FIPS == &quot;21111&quot;) housing_price_index &lt;- HPI_zip housing_price_index %&lt;&gt;% filter(year == 2020) map_zip %&lt;&gt;% left_join(housing_price_index, by = &quot;zip&quot;) hpi_change &lt;- c(&quot;Lost value&quot;, &quot;0% - 25%&quot;, &quot;25% - 50%&quot;, &quot;50% - 75%&quot;, &quot;75% - 100%&quot;, &quot;100% - 125%&quot;) hpi_2015_change &lt;- c(&quot;Lost value&quot;, &quot;0% - 10%&quot;, &quot;10% - 20%&quot;, &quot;20% - 30%&quot;, &quot;30% - 40%&quot;, &quot;40% - 50%&quot;) map_zip %&lt;&gt;% mutate( hpi_fill = case_when( HPI &lt; 100 ~ hpi_change[1], HPI &lt; 125 ~ hpi_change[2], HPI &lt; 150 ~ hpi_change[3], HPI &lt; 175 ~ hpi_change[4], HPI &lt; 200 ~ hpi_change[5], HPI &lt; 225 ~ hpi_change[6], is.na(HPI) ~ NA_character_, TRUE ~ &quot;error!!&quot;) %&gt;% factor(levels = hpi_change, ordered = TRUE), hpi_2015_fill = case_when( HPI5 &lt; 0 ~ hpi_2015_change[1], HPI5 &lt; 10 ~ hpi_2015_change[2], HPI5 &lt; 20 ~ hpi_2015_change[3], HPI5 &lt; 30 ~ hpi_2015_change[4], HPI5 &lt; 40 ~ hpi_2015_change[5], HPI5 &lt; 50 ~ hpi_2015_change[6], is.na(HPI) ~ NA_character_, TRUE ~ &quot;error!!&quot;) %&gt;% factor(levels = hpi_2015_change, ordered = TRUE)) ggplot(map_zip) + geom_sf(aes(fill = HPI - 100)) + #scale_fill_manual(values = viridis::viridis(6, direction = -1), na.value = &quot;grey&quot;) + scale_fill_viridis(breaks = c(25, 50, 75, 100, 125), limits = c(24, 126), name = &quot;Percent Increase&quot;) + theme_bw(base_size = 22, base_family = &quot;Montserrat&quot;) + theme(panel.grid = element_blank(), axis.text = element_blank(), axis.ticks = element_blank(), axis.title = element_blank(), panel.border = element_blank(), plot.caption = element_text(lineheight = 0.6)) + labs(title = &quot;Change in housing prices since 2000&quot;, caption = &quot;Source: Greater Louisville Project Data from Federal Housing Finance Agency HPI Tables&quot;) + theme( panel.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the panel plot.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the plot legend.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend bg legend.box.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend panel bg legend.key = element_rect(fill = &quot;transparent&quot;,colour = NA)) 3.4.2.2 Short-term appreciation Looking at the growth since 2015 highlights zip codes where changes in home prices have been very acute. The average home in Louisville increased in value by 24% between 2015 and 2020. Most zip codes saw total growth of 20% - 35%, while changes in home prices for zip codes in West Louisville range from an increase of 15% in 40212 to an increase of 46% in 40203. Home prices in 40203 have increased by an average of 7.9% per year since 2015, and they threaten to displace many residents from parts of Russell and Old Louisville. ggplot(map_zip) + geom_sf(aes(fill = HPI5)) + #scale_fill_manual(values = viridis::viridis(6, direction = -1), na.value = &quot;grey&quot;) + scale_fill_viridis(name = &quot;Percent Increase&quot;) + theme_bw(base_size = 22, base_family = &quot;Montserrat&quot;) + theme(panel.grid = element_blank(), axis.text = element_blank(), axis.ticks = element_blank(), axis.title = element_blank(), panel.border = element_blank(), plot.caption = element_text(lineheight = 0.6)) + labs(title = &quot;Change in housing prices since 2015&quot;, caption = &quot;Source: Greater Louisville Project Data from Federal Housing Finance Agency HPI Tables&quot;) + theme( panel.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the panel plot.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the plot legend.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend bg legend.box.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend panel bg legend.key = element_rect(fill = &quot;transparent&quot;,colour = NA)) 3.4.3 Home Valuation by Geography According to research by Dr. Andre Perry at the Brookings Institute, owner-occupied homes in Black neighborhoods are, on average, undervalued by $48,000 per house in the U.S. In the Louisville Metro Area, the median home value in majority Black neighborhoods is $89,681, but would be $117,593 if houses were not devalued, according to the same research. This difference constitutes a 27% undervaluation from what home values in Black neighborhoods would be if based on structural characteristics (e.g. sq. ft, year built) and neighborhood amenities (e.g. walkability, school districts, commute time) alone. devaluation &lt;- read_csv(&quot;Black_wealth/devaluation.csv&quot;) ranking_switch &lt;- function(df, var, plot_title = &quot;&quot;, year = NULL, sex = &quot;total&quot;, race = &quot;total&quot;, order = &quot;Descending&quot;, y_title = &quot;Percent&quot;, caption_text = &quot;&quot;, subtitle_text = &quot;&quot;, bar_label = TRUE, sigfig = 3, accuracy = 0.1, label_function, alternate_text = NULL, ranking_colors = TRUE, text_size, FIPS_df){ # Copy variable var to a new column for use with the &#39;$&#39; operator var &lt;- dplyr:::tbl_at_vars(df, vars(!!enquo(var))) df$var &lt;- df[[var]] # Filter to sex, race, and year if (&quot;sex&quot; %in% names(df)) df &lt;- df[df$sex == sex,] if (&quot;race&quot; %in% names(df)) df &lt;- df[df$race == race,] if(&quot;year&quot; %in% names(df)) { df &lt;- df[df$year %in% year,] if (length(year) &gt; 1) { df %&lt;&gt;% group_by_at(df %cols_in% c(&quot;MSA&quot;, &quot;FIPS&quot;)) %&gt;% summarise(var = mean(var, na.rm = TRUE)) %&gt;% ungroup() } } # Add peer data if not already present if (&quot;city&quot; %not_in% names(df)) { df %&lt;&gt;% pull_peers(add_info = T, FIPS_df = FIPS_df) %&gt;% filter(current == 1) } # Sort according to order parameter if (order %in% c(&quot;descending&quot;, &quot;Descending&quot;)) df %&lt;&gt;% arrange(desc(var)) if (order %in% c(&quot;ascending&quot;, &quot;Ascending&quot;)) df %&lt;&gt;% arrange(var) df %&lt;&gt;% filter(!is.na(var)) # Create numbered city labels for left side of graph df %&lt;&gt;% mutate( rank = row_number(), names = paste0(rank, &quot;. &quot;, city)) # Set bar colors if (ranking_colors) { # color_values &lt;- c(&quot;#96ca4f&quot;, &quot;#ffd600&quot;, &quot;#db2834&quot;) # color_names &lt;- c(&quot;green&quot;, &quot;yellow&quot;, &quot;red&quot;) # if (order %in% c(&quot;descending&quot;, &quot;Descending&quot;)) {color_names = rev(color_names)} # # breaks &lt;- classInt::classIntervals(na.omit(df$var), 3, style = &quot;jenks&quot;) # df$color &lt;- NA # df$color[df$var &lt;= breaks$brks[2]] &lt;- color_names[1] # df$color[df$var &gt; breaks$brks[2] &amp; df$var &lt;= breaks$brks[3]] &lt;- color_names[2] # df$color[df$var &gt; breaks$brks[3]] &lt;- color_names[3] color_values &lt;- c(&quot;#323844&quot;, &quot;#d63631&quot;) color_names &lt;- c(&quot;gray&quot;, &quot;red&quot;) df$color &lt;- &quot;red&quot; df$color[df$city == &quot;Louisville&quot;] &lt;- &quot;gray&quot; } else { df$color &lt;- &quot;blue&quot; color_values &lt;- &quot;#f58021&quot; color_names &lt;- &quot;blue&quot; } #if (order %in% c(&quot;descending&quot;, &quot;Descending&quot;)) color_values = rev(color_values) color_values = rev(color_values) # Create numeric labels # Create numeric labels if (!missing(label_function)) { label_text &lt;- df$var %&gt;% signif(sigfig) %&gt;% label_function() } else if (y_title %in% c(&quot;Dollars&quot;, &quot;Hourly Wage&quot;)) { if(mean(df$var, na.rm = TRUE) &gt; 10000) { label_text &lt;- df$var %&gt;% signif(sigfig) %&gt;% scales::dollar(accuracy = accuracy, scale = .001, suffix = &quot;k&quot;) } else { label_text &lt;- df$var %&gt;% signif(sigfig) %&gt;% scales::dollar(accuracy = .01) } } else if (stringr::str_detect(y_title, &quot;Percent&quot;)) { label_text &lt;- df$var %&gt;% signif(sigfig) %&gt;% scales::percent(accuracy = accuracy, scale = 1, suffix = &quot;%&quot;) } else { label_text &lt;- df$var %&gt;% signif(sigfig) %&gt;% scales::comma(accuracy = accuracy) } # Set text format, highlight and italicise Louisville text, highlight Louisville bar df$textcolor &lt;- &quot;#000000&quot; df$textcolor[df$city %in% c(&quot;Nashville&quot;, &quot;Greenville&quot;, &quot;Oklahoma City&quot;, &quot;Louisville&quot;)] &lt;- &quot;#000000&quot; df$textfont &lt;- &quot;Montserrat&quot; df$textfont[df$city == &quot;Louisville&quot;] &lt;- &quot;Montserrat Bold&quot; label_color_names &lt;- c(&quot;white&quot;, &quot;black&quot;) label_color_values &lt;- c(&quot;#000000&quot;, &quot;#ffffff&quot;) df$label_color &lt;- &quot;white&quot; df$label_color[df$city %in% c(&quot;Nashville&quot;, &quot;Greenville&quot;, &quot;Oklahoma City&quot;, &quot;Louisville&quot;)] &lt;- &quot;black&quot; #df$linecolor &lt;- &quot;#ffffff&quot; #df$linecolor[df$city == &quot;Louisville&quot;] &lt;- &quot;#00a9b7&quot; df$lou &lt;- if_else(df$city == &quot;Louisville&quot;, 1, 0) df$text_alignment &lt;- 1.1 if (!is.null(alternate_text)) df$text_alignment[df$rank %in% alternate_text] &lt;- -0.1 ### PLOT GRAPH # Initial plot p &lt;- ggplot(data = df, aes(x = factor(names, levels = rev(names)), y = var, fill = factor(color, levels = color_names, ordered = TRUE))) p &lt;- p + guides(fill = FALSE, color = FALSE) # Add bars p &lt;- p + geom_bar(stat = &quot;identity&quot;, size = text_size) + coord_flip() + ggthemes::theme_tufte() p &lt;- p + scale_fill_manual(values = color_values) #p &lt;- p + scale_color_manual(values = c(&quot;#ffffff&quot;, &quot;#00a9b7&quot;)) # Add features title_scale &lt;- min(1, 48 / nchar(plot_title)) p &lt;- p + theme(text = element_text(family = &quot;Montserrat&quot;), plot.title = element_text(size = 14 * title_scale * text_size, hjust = 0.5, margin = margin(b = 10, unit = &quot;pt&quot;)), axis.text.y = element_text(hjust = 0, size = 10 * text_size, color = rev(df$textcolor), family = rev(df$textfont)), axis.title.x = element_text(size = 10 * text_size), axis.ticks = element_blank(), axis.text.x = element_blank(), plot.caption = element_text(size = 10 * text_size, lineheight = 0.5)) if(subtitle_text != &quot;&quot;){ p &lt;- p + labs(subtitle = subtitle_text) + theme(plot.subtitle = element_text(hjust = 0.5, size = 10 * text_size)) } # Add numeric labels to bars based on bar_label parameter if (y_title != &quot;&quot; &amp; bar_label) { p &lt;- p + geom_text(aes(label = label_text, hjust = text_alignment, color = factor(label_color), family = textfont), size = 4.5 * text_size) + scale_colour_manual(values=c(&quot;#000000&quot;, &quot;#ffffff&quot;)) } # Add vertical line to the left side of the bars based on the h_line parameter if (min(df$var, na.rm = TRUE) &lt; 0) p &lt;- p + geom_hline(yintercept = 0, linetype = &quot;longdash&quot;, size = 2) # Add remaining text p &lt;- p + labs(title = plot_title, y = y_title, x = &quot;&quot;, caption = caption_text) p &lt;- p + theme( panel.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the panel plot.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the plot legend.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend bg legend.box.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend panel bg legend.key = element_rect(fill = &quot;transparent&quot;, colour = NA)) p &lt;- p + expand_limits(y = 15) p } ranking_switch(devaluation, devaluation, plot_title = &quot;Devaluation of Homes in Black Neighborhoods&quot;, text_size = 2, alternate_text=1:17, FIPS_df = FIPS_df, caption = &quot;Source: Greater Louisville Project Data from Dr. Andre Perry, Brookings Institute&quot;) 3.4.4 Property Taxes While facing lower home values on the market, homes in majority-Black neighborhoods are valued relatively-higher than homes in majority-white by the property tax administration, and thus face higher taxation relative to the market value of their homes. The Jefferson County Property Value Administration (PVA) assesses homes every three years to determine their value, and that value is used to determine the amount of property taxes the owner owes. The PVA compares homes to similar nearby properties to determine an appropriate valuation. Based on a comparison of property tax assessments to actual sale prices, data shows that property valuations tend to overvalue homes in some neighborhoods and undervalue them in others, resulting in different property tax rates for owners. There are numerous 3.4.4.1 Property Assessments The map below compares property assessments to market values. Negative values indicate that home assessments are usually lower than their market price, while postive values indicate that home assessments are, on average, higher than their market price. Properties inside the Watterson and East of I-65 are consistently valued, and thus taxed, at a lower rate than they are worth. Most over-assessments can be found in Southwest and South Louisville. There are numerous potential reasons for these discrepancies. One significant factor in Louisville is that homes are usually assessed every three years. In neighborhoods where home values consistently go up, market values quickly increase beyond assessment values. In neighborhoods where home values increase more slowly, market prices usually stay close to property assessments. Several other potential reasons are described in detail in the research linked above. # Load Property tax analysis webpage page &lt;- read_html(&quot;Black_wealth/An Evaluation of Property Tax Regressivity in Jefferson County, Kentucky.html&quot;) # Extract sales ratio and property tax rate data-for elements sales_ratio_html = page %&gt;% html_elements(&#39;script[data-for=&quot;htmlwidget-0527b478a846743b2dd4&quot;]&#39;) property_tax_html = page %&gt;% html_elements(&#39;script[data-for=&quot;htmlwidget-a1602585f74d11977716&quot;]&#39;) sales_ratio_html %&lt;&gt;% html_text() property_tax_html %&lt;&gt;% html_text() # Extract relevant component and split long text strings on commas (by census tract) sales_ratio_text &lt;- sales_ratio_html %&gt;% str_extract(&#39;&lt;strong&gt;Census Tract 2, .*300,200(?=&quot;])&#39;) %&gt;% str_split(&#39;&quot;,&quot;&#39;) property_tax_text &lt;- property_tax_html %&gt;% str_extract(&#39;&lt;strong&gt;Census Tract 2, .*300,200(?=&quot;])&#39;) %&gt;% str_split(&#39;&quot;,&quot;&#39;) # Convert to data frame and extract components using regex tax_data &lt;- data.frame( sales_ratio_raw = sales_ratio_text[[1]], property_tax_raw = property_tax_text[[1]]) tax_data %&lt;&gt;% mutate( # &#39;Census Tract &#39; followed by 1-6 characters before a comma sr_tract = str_extract(sales_ratio_raw, &quot;(?&lt;=Census Tract ).{1,6}(?=,)&quot;), # &#39;Sales in Sample): &#39; followed by 3-5 characters before % sr_ratio = str_extract(sales_ratio_raw, &quot;(?&lt;=Sales in Sample\\\\)\\\\: ).{3,5}(?=\\\\%)&quot;), # &#39;( &#39; followed by any number of digits before &#39;)&#39; sr_sample = str_extract(sales_ratio_raw, &quot;(?&lt;=\\\\()\\\\d*(?=\\\\))&quot;), # &#39;Median Home Value: $&#39; followed by the rest of the string home_value = str_extract(sales_ratio_raw, &quot;(?&lt;=Median Home Value\\\\: \\\\$).*&quot;), # &#39;Percent White Population: &#39; followed by 3-5 characters before % white = str_extract(sales_ratio_raw, &quot;(?&lt;=Percent White Population\\\\: ).{3,5}(?=\\\\%)&quot;), # &#39;Census Tract &#39; followed by 1-6 characters before a comma pt_tract = str_extract(property_tax_raw, &quot;(?&lt;=Census Tract ).{1,6}(?=,)&quot;), # &#39;Sales in Sample): &#39; followed by 3-5 characters before % pt_rate = str_extract(property_tax_raw, &quot;(?&lt;=Sales in Sample\\\\)\\\\: ).{3,5}(?=\\\\%)&quot;), # &#39;( &#39; followed by any number of digits before &#39;)&#39; pt_sample = str_extract(property_tax_raw, &quot;(?&lt;=\\\\()\\\\d*(?=\\\\))&quot;)) # Check: tract and sample size match across all tracts. TRUE # all(tax_data$sr_tract == tax_data$pt_tract) # all(tax_data$sr_sample == tax_data$pt_sample) # Create tract IDs and clean data frame tax_data %&lt;&gt;% mutate( tract_start = str_extract(sr_tract, &quot;\\\\d{1,3}&quot;) %&gt;% str_pad(4, &quot;left&quot;, &quot;0&quot;), tract_end = str_extract(sr_tract, &quot;(?&lt;=\\\\.)\\\\d{1,2}&quot;) %&gt;% replace_na(&quot;00&quot;) %&gt;% str_pad(2, &quot;left&quot;, &quot;0&quot;), tract = paste0(&quot;21111&quot;, tract_start, tract_end)) %&gt;% transmute( tract, sales_ratio = as.numeric(sr_ratio), property_tax = as.numeric(pt_rate), sample_size = as.numeric(sr_sample), pct_white = as.numeric(white), median_value = as.numeric(str_remove(home_value, &quot;,&quot;))) tax_data %&lt;&gt;% mutate( dif = sales_ratio - 100, dif_bins = case_when(dif &lt; -10 ~ &quot;10 to 15% lower&quot;, dif &lt; -5 ~ &quot;5 to 10% lower&quot;, dif &lt; 0 ~ &quot;0 to 5% lower&quot;, dif &lt; 5 ~ &quot;0 to 5% higher&quot;, dif &lt; 10 ~ &quot;5 to 10% higher&quot;) %&gt;% factor(levels = c(&quot;10 to 15% lower&quot;, &quot;5 to 10% lower&quot;, &quot;0 to 5% lower&quot;, &quot;0 to 5% higher&quot;, &quot;5 to 10% higher&quot;), ordered = T), sales_ratio_bins = case_when(sales_ratio &lt; 90 ~ &quot;85-90&quot;, sales_ratio &lt; 95 ~ &quot;90-95&quot;, sales_ratio &lt; 100 ~ &quot;95-100&quot;, sales_ratio &lt; 105 ~ &quot;100-105&quot;, sales_ratio &lt; 110 ~ &quot;105-110&quot;) %&gt;% factor(levels = c(&quot;85-90&quot;, &quot;90-95&quot;, &quot;95-100&quot;, &quot;100-105&quot;, &quot;105-110&quot;), ordered = T), property_tax_bins = case_when(property_tax == 0.8 ~ &quot;0.8%&quot;, property_tax == 0.9 ~ &quot;0.9%&quot;, property_tax == 1.0 ~ &quot;1.0%&quot;, property_tax == 1.1 ~ &quot;1.1%&quot;, property_tax == 1.2 ~ &quot;1.2%&quot;, property_tax == 1.3 ~ &quot;1.3%&quot;, property_tax == 1.4 ~ &quot;1.4%&quot;, property_tax == 1.5 ~ &quot;1.5%&quot;,) %&gt;% factor(levels = c(&quot;0.8%&quot;, &quot;0.9%&quot;, &quot;1.0%&quot;, &quot;1.1%&quot;, &quot;1.2%&quot;, &quot;1.3%&quot;, &quot;1.4%&quot;, &quot;1.5%&quot;), ordered = T)) pop_data &lt;- glpdata::population_tract %&gt;% filter(year == 2016, race %in% c(&quot;total&quot;, &quot;black&quot;), sex == &quot;total&quot;) %&gt;% select(tract, race, population) %&gt;% pivot_wider(names_from = race, values_from = population) %&gt;% mutate(percent_black = black / total * 100) tax_data %&lt;&gt;% left_join(pop_data, by = &quot;tract&quot;) jfco_sf %&lt;&gt;% left_join(tax_data, by = c(&quot;GEOID&quot; = &quot;tract&quot;)) make_map_bins &lt;- function(indicator, title = &quot;&quot;, legend = &quot;&quot;, caption = &quot;&quot;, no_legend = FALSE, vir_dir = 1, bins, shapefile){ plt &lt;- ggplot(shapefile) + geom_sf(aes(fill={{ indicator }} )) + # scale_fill_gradient(low = &quot;#323844&quot;, high = &quot;#d63631&quot;, name = &quot;Percent&quot;) + scale_fill_viridis(na.value = &quot;grey&quot;, name = legend, direction = vir_dir, discrete = T) + theme_bw(base_size = 22) + theme(plot.caption = element_text(lineheight = .5)) + theme(text = element_text(family = &quot;Montserrat&quot;), panel.grid = element_blank(), axis.text = element_blank(), axis.ticks = element_blank(), axis.title = element_blank(), panel.border = element_blank()) + labs(title = title, caption = caption) if (no_legend == TRUE){ plt &lt;- plt + theme(legend.position = &quot;none&quot;) } plt &lt;- plt + theme( panel.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the panel plot.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the plot legend.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend bg legend.box.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend panel bg legend.key = element_rect(fill = &quot;transparent&quot;,colour = NA)) return(plt) } make_map_bins(dif_bins, title = &quot;Assessed Value compared to Market Value&quot;, bins = c(-15, -10, -5, 0, 5, 10), caption = &quot;Source: Greater Louisville Project GLP analysis of data from University of Chicago Harris Public Policy&quot;, shapefile = jfco_sf) 3.4.4.2 Property Taxes The property tax rate for homeowners differs by location. Most homeowners across the county pay taxes toward JCPS, and most homeowners who live inside the Watterson also pay taxes to the Urban Services District. Independent cities, fire departments, and school districts charge different rates throughout the county. As a result, there is no consistent property tax rate throughout Jefferson County. Differences in property tax rates are a result of both local tax rates and property assessments. The map below shows the effective property tax rate, or the amount of property tax homeowners paid based on the market value of their homes. The majority of homeowners pay a property tax of around 1% of their homes value. Homeowners in some neighborhoods pay slightly less, and many pay slightly more. The highest effective tax rates are found in West Louisville due to a combination of high property assessments relative to homes values, and the property tax rate for the Urban Services District. make_map_bins(property_tax_bins, title = &quot;Effective Property Tax Rate&quot;, legend = &quot;Percent of Home Value&quot;, caption = &quot;Source: Greater Louisville Project GLP analysis of data from University of Chicago Harris Public Policy&quot;, shapefile = jfco_sf) 3.4.5 Undervaluation and Overtaxation This image summarizes the previous two sections (home valuation and property assessments). If homes in Black neighborhoods were valued by the market and taxed by the city like homes in other neighborhoods, homeowners in those neighborhoods would have higher-priced homes taxed at a lower rate. *This follows Dr. Andre Perrys (Brookings Institute) methodology in defining a majority Black neighborhood as one with  50% Black residents. **The data on the right reflects a home price without devaluation and the average effective property tax rate of white neighborhoods in Louisville. These differences are likely not a completely just or equitable reality, but one that moves us closer to that. # average property tax vs average property tax in a Black neighborhood tax_data_bn &lt;- tax_data %&gt;% filter(percent_black &gt;=50) %&gt;% #summarize(prop_tax = mean(property_tax, na.rm=T)) summarize(prop_tax = weighted.mean(property_tax, sample_size, na.rm=T)) %&gt;% pull(prop_tax) t=tax_data %&gt;% left_join(glptools::nh_tract) %&gt;% group_by(pct_white&lt;50) %&gt;% summarize( sales_ratio = weighted.mean(sales_ratio, sample_size, na.rm=T), pct_white = mean(pct_white, na.rm=T)) ggplot(tax_data, aes(x=percent_black, y=sales_ratio)) + geom_point() + geom_smooth() + theme_bw(base_size = 22, base_family = &quot;Montserrat&quot;) + theme(panel.grid = element_blank(), panel.border = element_blank(), legend.title = element_blank()) + labs(title = &quot;Neighborhoods by Assessment Ratio and Race&quot;) + theme( panel.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the panel plot.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the plot legend.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend bg legend.box.background = element_rect(fill = &quot;transparent&quot;, color = &quot;transparent&quot;), # get rid of legend panel bg legend.key = element_rect(fill = &quot;transparent&quot;,colour = NA)) + labs(x = &quot;Percent of Residents who are Black&quot;, y = &quot;Assessment Ratio&quot;) # Method 1: Summarize daata for each group based on Dr. Perry&#39;s definitions nb_sales_ratio &lt;- tax_data %&gt;% filter(percent_black &lt;= 1) %&gt;% summarize(output = weighted.mean(sales_ratio, sample_size)) %&gt;% pull(output) black_ratio &lt;- tax_data %&gt;% filter(percent_black &gt;= 50) %&gt;% summarize(output = weighted.mean(sales_ratio, sample_size, na.rm=T)) %&gt;% pull(output) # Method 2: Summarize data for each group based on the 10% most- and 10% least-Black neighborhoods nb_sales_ratio &lt;- tax_data %&gt;% filter(percent_black &lt;= quantile(percent_black, 0.1)) %&gt;% summarize(output = weighted.mean(sales_ratio, sample_size)) %&gt;% pull(output) black_ratio &lt;- tax_data %&gt;% filter(percent_black &gt;= quantile(percent_black, 0.9)) %&gt;% summarize(output = weighted.mean(sales_ratio, sample_size, na.rm=T)) %&gt;% pull(output) prop_ratio &lt;- nb_sales_ratio / black_ratio * tax_data_bn # Method 3: model data using splines library(splines) t=lm(sales_ratio~bs(percent_black, knots = quantile(tax_data$percent_black, c(0.25, 0.5, 0.75))), data=tax_data) plot(predict(t, newdata = list(percent_black = c(0:100))),ylim=c(85, 110),type=&quot;l&quot;) points(tax_data$percent_black, tax_data$sales_ratio) predict(t, newdata = list(percent_black = 0)) predict(t, newdata = list(percent_black = 50:100)) %&gt;% mean() test &lt;- glptools::map_muw test_pop &lt;- glpdata::population_muw %&gt;% filter(year == 2016, sex == &quot;total&quot;, race %in% c(&quot;black&quot;, &quot;total&quot;)) %&gt;% select(-population_change, -population_change_adj) %&gt;% pivot_wider(values_from = population, names_from = race) test %&lt;&gt;% left_join(test_pop) %&gt;% mutate(pct_black = black / total * 100) leaflet(test) %&gt;% addTiles()%&gt;% addPolygons(fill = test$pct_black &gt;= 50) library(glptools) housing_vars_05_5yr &lt;- build_census_var_df(&quot;acs5&quot;, &quot;B25077&quot;) housing_map &lt;- get_census(filter(housing_vars_05_5yr, year == 2019), &quot;tract&quot;) pop_map &lt;- glpdata::population_tract %&gt;% filter(year == 2016, sex == &quot;total&quot;, race == &quot;total&quot;) %&gt;% select(tract, population) t=housing_map %&gt;% select(tract, year, var_type, value) %&gt;% pivot_vartype_wider(value) %&gt;% left_join(muw_tract, by = &quot;tract&quot;) %&gt;% left_join(pop_data, by = &quot;tract&quot;) %&gt;% filter(neighborhood %not_in% c(&quot;Airport&quot;, &quot;Minor Lane Heights&quot;)) %&gt;% mutate( estimate = if_else(estimate %in% c(9999, -666666666), NA_real_, estimate), MOE = if_else(MOE %in% c(-333333333, -222222222), NA_real_, MOE)) black_neighborhood_summary &lt;- t %&gt;% group_by(percent_black &gt;= 50) %&gt;% summarize( #estimate = weighted.mean(estimate, total, na.rm = T), estimate = Hmisc::wtd.quantile(estimate, total, probs = 0.5, na.rm = T), MOE = sqrt(sum(MOE^2))) neighborhood_summary &lt;- t %&gt;% group_by(neighborhood) %&gt;% summarize( estimate = weighted.mean(estimate, population), MOE = sqrt(sum(MOE^2))) housing_vars_05_5yr &lt;- build_census_var_df(&quot;acs5&quot;, &quot;B25082&quot;) housing_map &lt;- get_census(housing_vars_05_5yr, &quot;tract&quot;) %&gt;% filter(year == 2017) t=housing_map %&gt;% filter(label == &quot;Estimate!!Aggregate value (dollars):&quot;, var_type == &quot;estimate&quot;) %&gt;% mutate(value = if_else(value == -666666666, NA_real_, value)) %&gt;% left_join(pop_data, by = &quot;tract&quot;) %&gt;% group_by(percent_black &gt;= 50) %&gt;% summarize(agg_value = sum(value, na.rm = TRUE)) 3.4.6 Homeownership Rates Black families both start with less wealth (and therefore less opportunities to build on it even in a fair market) and this is compountded at each step of the home ownership process. 3.4.6.1 Ranking Slightly more than 1 in 3 Black Louisville residents own their own homes. While this is roughly toward the middle of our peer cities, it is roughly half the homeownership rate among white residents. housing_df &lt;- housing_county %&gt;% filter(var_type == &quot;percent&quot;) housing_df_gap &lt;- housing_df %&gt;% filter(sex == &quot;total&quot;, race %in% c(&quot;black&quot;, &quot;white&quot;), var_type == &quot;percent&quot;) %&gt;% select(FIPS, year, race, homeownership) %&gt;% pivot_wider(values_from = homeownership, names_from = race) %&gt;% mutate(gap = white - black) ranking(housing_df, homeownership, race = &quot;black&quot;, year = 2019, text_size = 2, FIPS_df = FIPS_df, plot_title = &quot;Black Homeownership&quot;, caption = &quot;Source: Greater Louisville Project GLP analysis of ACS microdata from IPUMS USA&quot;) 3.4.6.2 Trend Homeownership among all Louisville residents, including Black residents, has declined slightly since the early 2000s. Since 2010, Louisvilles racial homeownership gap has been among the largest of our peer cities. housing_df_clean &lt;- housing_df %&gt;% filter(FIPS == &quot;21111&quot;, sex == &quot;total&quot;, race %not_in% c(&quot;other&quot;, &quot;hispanic&quot;)) %&gt;% mutate(race = str_to_title(race)) plt_by(housing_df_clean, race, homeownership, title_text = &quot;Homeownership by Race&quot;, caption_text = &quot;Source: Greater Louisville Project GLP analysis of ACS microdata from IPUMS USA&quot;) 3.4.6.3 Map Across Louisville, homeownership varies from less than 10% in some areas to the high 90s in others. housing_map_clean &lt;- housing_tract %&gt;% filter(sex == &quot;total&quot;, race == &quot;total&quot;, year == 2017, var_type == &quot;percent&quot;) %&gt;% select(-sex, -race, -year, -var_type) jfco_sf %&lt;&gt;% left_join(housing_map_clean, by = c(&quot;GEOID&quot; = &quot;tract&quot;)) make_map(homeownership, &quot;Homeownership&quot;, legend = &quot;Percent&quot;, caption = &quot;Source: Greater Louisville Project ACS table B25106&quot;, map_obj = jfco_sf) 3.5 Household Income (Local) Many activities that lead to wealth-creation, like starting a business or getting a degree, are not directly tied to income. However, the majority of families build wealth by saving the money they earn. Disparities in income lead to larger disparities in wealth. 3.5.1 Trendline While income for Black Households in Louisville has trended up over the last few years, the median Black household only receives about two-thirds the income of the median Louisville household. After adjusting for inflation, median income declined among Black households from 2000 to 2013 and only surpassed their previous levels in 2017. hh_income_filtered &lt;- hh_income_county %&gt;% filter(var_type == &quot;estimate&quot;, race %in% c(&quot;black&quot;, &quot;total&quot;, &quot;white&quot;), FIPS == &quot;21111&quot;) %&gt;% mutate(race = str_to_title(race)) plt_by(hh_income_filtered, race, hh_income, y_axis = &quot;Dollars&quot;, units = &quot;Dollars&quot;, title_text = &quot;Household Income by Race&quot;, subtitle_text = &quot;Adjusted for inflation to 2019 dollars&quot;, caption_text = &quot;Source: Greater Louisville Project ACS Tables P053, P152, B19013&quot;) 3.5.2 Map The median household income varies widely across Louisville, ranging from under $20,000 in some areas to over $150,000 in others. hh_income_tract_clean &lt;- hh_income_tract %&gt;% filter(year == 2016, race %in% c(&quot;total&quot;, &quot;black&quot;)) %&gt;% pivot_wider(names_from = race, values_from = hh_income, names_prefix = &quot;hh_income_&quot;) %&gt;% select(-year, -sex) jfco_sf %&lt;&gt;% left_join(hh_income_tract_clean, by = c(&quot;GEOID&quot; = &quot;tract&quot;)) %&gt;% mutate(hh_income_black = if_else(hh_income_black &lt; -1000000, NA_real_, hh_income_black)) make_map(hh_income_total, &quot;Median Household income&quot;, legend = &quot;Dollars&quot;, caption = &quot;Source: Greater Louisville Project ACS Table B19013&quot;, map_obj = jfco_sf) 3.6 The Tip of the Iceberg We have the most data on housing, income, and businesses, but these are not the only areas of wealth building where systemic inequality is pervasive. Black families start with less wealth (and therefore have less opportunities to build on it even in an equal market) and face discrimination at each step of the process. A better understanding of what metrics are important for describing Black wealth in both quantitative and qualitative terms is important to improve our work in this area, and we welcome input. "]]
